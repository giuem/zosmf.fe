# 实验4：盘卷和数据集 SMS 转换实验

**实验目的：** 练习如何进行盘卷和数据集的SMS转换

**实验结果：** 实验后，学生应该掌握

- 如何将非SMS管理的盘卷转换为SMS管理的盘卷

- 如何将非SMS管理的数据集转换为SMS管理的数据集

**实验介绍：** 该实验将盘卷进行SMS管理转换，并将一些非SMS管理的数据集移动到该SMS管理的盘卷上，完成数据集的SMS管理转换

**实验要求：** 完成实验报告

## 实验步骤

**第一部分：转换****DASD****盘卷**

**步骤 1**     准备工作：在ISMF主选项面板上输入‘0.2’来创建你的JOB语句

（1） 在ISMF作业语句信息下输入和下面的JOB类似的作业语句

//**yourid**A JOB ,**yourid**,NOTIFY=&SYSUID,CLASS=A,TYPRUN=HOLD

（2） 确认你在作业语句源处选择了‘2 ISMF’

**步骤 2**     在ISMF主选项面板上选择‘2  Volume’，创建一个包含所有系统DASD卷的列表

**步骤 3**     询问系统管理员实验所用的盘卷名称，在上面创建的列表中找到该盘卷，在该卷的左侧输入‘CONVERTV’行命令，在紧接着出现的‘CONVERTV ENTRY PANEL’面板上通过使用帮助仔细查看各参数的含义，并完成如下工作

（1） 测试该卷是否能够进行SMS转换，得到测试报告

（2） 从测试报告得到不能转换的数据集列表，对他们进行移动或者删除处理

（3） 执行该卷的SMS转换工作

（4） 通过查看卷的第22个属性列（PHYSICAL STATUS），确定该卷的是否成功进行了SMS转换

注意：提交作业时，由于使用了TYPRUN=HOLD参数，该作业将被挂起，可以在SDSF里查找到作业，在作业前输入‘A’对作业进行释放执行

**第二部分：转换数据集**
 
**步骤 4**     在ISMF主选项面板上选择‘1  Data Set’，创建一个包含以**yourid**为HLQ的所有数据集列表

**步骤 5**     选择某个数据集，在其左侧使用‘COPY’命令来转换数据集，将其从非SMS管理的状态变为SMS管理的状态。在之后出现的‘COPY ENTRY PANEL’ 面板上通过使用帮助仔细查看各参数的含义，完成如下工作

（1） 将该数据集转换成SMS管理的状态，注意不需要输入目标盘卷，另外需要指定特定参数，将完成复制的数据集取消编目并从原盘上删除

**步骤 6**     在ISMF主选项面板上选择‘1  Data Set’，创建一个匹配某种模式的数据集列表（如‘**yourid**.test.**’），该列表中往往包含多个数据集。在命令行上输入‘COPY’命令，实现数据集的批量复制操作，在之后出现的‘COPY COMMAND ENTRY PANEL’ 面板上仔细对各参数进行选择或赋值，将这些数据集转换成SMS管理的状态，并回答以下问题

（1）所有的数据集都成功转换了吗？‘是’还是‘不是’？

（2） 如果答案是‘不是’，那么哪些数据集没有转换成功？为什么没有转换成功？
     
（3） ACS Routine是否对每一个转换成功的数据集赋予了一个Storage Class？请记录下Storage Class的名字。

（4） ACS Routine是否对每一个转换成功的数据集赋予了一个Management Class？请记录下Management Class的名字。

**步骤 7**     总结本次实验体会及建议
